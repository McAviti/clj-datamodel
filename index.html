<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.2">
<meta name="description" content="CLJ is a blueprint for a shared and central logging building block">
<meta name="keywords" content="software-architecture, logging, journalling, enterprise-it, practices">
<title>An Architecture Blueprint for a Central Logging System</title>
<style>
@import url(https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic|Noto+Serif:400,400italic,700,700italic|Droid+Sans+Mono:400);

/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary {
    display: block;
}

audio, canvas, video {
    display: inline-block;
}

audio:not([controls]) {
    display: none;
    height: 0;
}

[hidden], template {
    display: none;
}

script {
    display: none !important;
}

html {
    background: #fff;
    color: #000;
    font-family: sans-serif;
    -ms-text-size-adjust: 100%;
    -webkit-text-size-adjust: 100%;
}

body {
    margin: 0;
}

a {
    background: transparent;
}

a:focus {
    outline: thin dotted;
}

a:active, a:hover {
    outline: 0;
}

h1 {
    font-size: 2em;
    margin: 0.67em 0;
}

abbr[title] {
    border-bottom: 1px dotted;
}

b, strong {
    font-weight: bold;
}

dfn {
    font-style: italic;
}

hr {
    -moz-box-sizing: content-box;
    box-sizing: content-box;
    height: 0;
}

mark {
    background: #ff0;
    color: #000;
}

code, kbd, pre, samp {
    font-family: 'Source Code Pro', monospace, serif;
    font-size: 1em;
}

pre {
    white-space: pre-wrap;
}

q {
    quotes: "\201C" "\201D" "\2018" "\2019";
}

small {
    font-size: 80%;
}

sub, sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
}

sup {
    top: -0.5em;
}

sub {
    bottom: -0.25em;
}

img {
    border: 0;
}

svg:not(:root) {
    overflow: hidden;
}

figure {
    margin: 0;
}

fieldset {
    border: 1px solid #c0c0c0;
    margin: 0 2px;
    padding: 0.35em 0.625em 0.75em;
}

legend {
    border: 0;
    padding: 0;
}

button, input, select, textarea {
    font-family: inherit;
    font-size: 100%;
    margin: 0;
}

button, input {
    line-height: normal;
}

button, select {
    text-transform: none;
}

button, html input[type="button"], input[type="reset"], input[type="submit"] {
    -webkit-appearance: button;
    cursor: pointer;
}

button[disabled], html input[disabled] {
    cursor: default;
}

input[type="checkbox"], input[type="radio"] {
    box-sizing: border-box;
    padding: 0;
}

input[type="search"] {
    -webkit-appearance: textfield;
    -moz-box-sizing: content-box;
    -webkit-box-sizing: content-box;
    box-sizing: content-box;
}

input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration {
    -webkit-appearance: none;
}

button::-moz-focus-inner, input::-moz-focus-inner {
    border: 0;
    padding: 0;
}

textarea {
    overflow: auto;
    vertical-align: top;
}

table {
    border-collapse: collapse;
    border-spacing: 0;
}

*, *:before, *:after {
    -moz-box-sizing: border-box;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
}

html, body {
    font-size: 100%;
}

body {
    background: white;
    color: #222222;
    padding: 0;
    margin: 0;
    font-family: "Noto Serif", "DejaVu Serif", "Serif", serif;
    font-weight: normal;
    font-style: normal;
    line-height: 1;
    position: relative;
    cursor: auto;
}

a:hover {
    cursor: pointer;
}

a:focus {
    outline: none;
}

img, object, embed {
    max-width: 100%;
    height: auto;
}

object, embed {
    height: 100%;
}

img {
    -ms-interpolation-mode: bicubic;
}

#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object {
    max-width: none !important;
}

.left {
    float: left !important;
}

.right {
    float: right !important;
}

.text-left {
    text-align: left !important;
}

.text-right {
    text-align: right !important;
}

.text-center {
    text-align: center !important;
}

.text-justify {
    text-align: justify !important;
}

.hide {
    display: none;
}

.antialiased, body {
    -webkit-font-smoothing: antialiased;
}

img {
    display: inline-block;
    vertical-align: middle;
}

textarea {
    height: auto;
    min-height: 50px;
}

select {
    width: 100%;
}

p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p {
    font-size: 1.21875em;
    line-height: 1.6;
}

.subheader, #content #toctitle, .admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .mathblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title, .tableblock > caption {
    line-height: 1.4;
    color: #7a2518;
    font-weight: 300;
    margin-top: 0.2em;
    margin-bottom: 0.5em;
}

div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td {
    margin: 0;
    padding: 0;
    direction: ltr;
}

a {
    color: #005498;
    text-decoration: underline;
    line-height: inherit;
}

a:hover, a:focus {
    color: #00467f;
}

a img {
    border: none;
}

p {
    font-family: inherit;
    font-weight: normal;
    font-size: 1em;
    line-height: 1.6;
    margin-bottom: 1.25em;
    text-rendering: optimizeLegibility;
}

p aside {
    font-size: 0.875em;
    line-height: 1.35;
    font-style: italic;
}

h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 {
    font-family: "Open Sans", "DejaVu Sans", "Sans", sans-serif;
    font-weight: 300;
    font-style: normal;
    color: #222;
    text-rendering: optimizeLegibility;
    margin-top: 1em;
    margin-bottom: 0.5em;
    line-height: 1.2125em;
}

h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small {
    font-size: 60%;
    color: #e99b8f;
    line-height: 0;
}

h1 {
    font-size: 2.125em;
    font-weight: bold;
}

h2 {
    font-size: 1.6875em;
    font-weight: bold;
}

h3, #toctitle, .sidebarblock > .content > .title {
    font-size: 1.375em;
    font-weight: bold;
}

h4 {
    font-size: 1.125em;
    font-weight: bold;
}

h5 {
    font-size: 1.125em;
    font-weight: bold;
}

h6 {
    font-size: 1em;
}

hr {
    border: solid #d8d8d8;
    border-width: 1px 0 0;
    clear: both;
    margin: 1.25em 0 1.1875em;
    height: 0;
}

em, i {
    font-style: italic;
    line-height: inherit;
}

strong, b {
    font-weight: bold;
    line-height: inherit;
}

small {
    font-size: 60%;
    line-height: inherit;
}

code {
    font-family: "Source Code Pro", "Droid Sans Mono", "DejaVu Sans Mono", "Monospace", monospace;
    font-weight: normal;
    color: #6d180b;
    font-size: 85%;
}

ul, ol, dl {
    font-size: 1em;
    line-height: 1.6;
    margin-bottom: 1.25em;
    list-style-position: outside;
    font-family: inherit;
}

ul, ol {
    margin-left: 1.5em;
}

ul.no-bullet, ol.no-bullet {
    margin-left: 1.5em;
}

ul li ul, ul li ol {
    margin-left: 1.25em;
    margin-bottom: 0;
    font-size: 1em;
}

ul.square li ul, ul.circle li ul, ul.disc li ul {
    list-style: inherit;
}

ul.square {
    list-style-type: square;
}

ul.circle {
    list-style-type: circle;
}

ul.disc {
    list-style-type: disc;
}

ul.no-bullet {
    list-style: none;
}

ol li ul, ol li ol {
    margin-left: 1.25em;
    margin-bottom: 0;
}

dl dt {
    margin-bottom: 0.3125em;
    font-weight: bold;
}

dl dd {
    margin-bottom: 1.25em;
}

abbr, acronym {
    text-transform: uppercase;
    font-size: 90%;
    color: #333333;
    border-bottom: 1px dotted #dddddd;
    cursor: help;
}

abbr {
    text-transform: none;
}

blockquote {
    margin: 0 0 1.25em;
    padding: 0.5625em 1.25em 0 1.1875em;
    border-left: 3px solid #487c58;
}

blockquote cite {
    display: block;
    font-size: inherit;
    color: #454545;
}

blockquote cite:before {
    content: "\2014 \0020";
}

blockquote cite a, blockquote cite a:visited {
    color: #454545;
}

blockquote, blockquote p {
    line-height: 1.6;
    color: #6e6e6e;
}

@media only screen and (min-width: 768px) {
    h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 {
        line-height: 1.4;
    }

    h1 {
        font-size: 2.75em;
        font-weight: bold;
    }

    h2 {
        font-size: 2.3125em;
        font-weight: bold;
    }

    h3, #toctitle, .sidebarblock > .content > .title {
        font-size: 1.6875em;
        font-weight: bold;
    }

    h4 {
        font-size: 1.4375em;
        font-weight: bold;
    }

    h5 {
        font-size: 1.3em;
        font-weight: bold;
    }
}

.print-only {
    display: none !important;
}

@media print {
    * {
        background: transparent !important;
        color: #000 !important;
        box-shadow: none !important;
        text-shadow: none !important;
    }

    a, a:visited {
        text-decoration: underline;
    }

    a[href]:after {
        content: " (" attr(href) ")";
    }

    abbr[title]:after {
        content: " (" attr(title) ")";
    }

    .ir a:after, a[href^="javascript:"]:after, a[href^="#"]:after {
        content: "";
    }

    pre, blockquote {
        border: 1px solid #999;
        page-break-inside: avoid;
    }

    thead {
        display: table-header-group;
    }

    tr, img {
        page-break-inside: avoid;
    }

    img {
        max-width: 100% !important;
    }

    @page {
        margin: 0.5cm;
    }

    p, h2, h3, #toctitle, .sidebarblock > .content > .title {
        orphans: 3;
        widows: 3;
    }

    h2, h3, #toctitle, .sidebarblock > .content > .title {
        page-break-after: avoid;
    }

    .hide-on-print {
        display: none !important;
    }

    .print-only {
        display: block !important;
    }

    .hide-for-print {
        display: none !important;
    }

    .show-for-print {
        display: inherit !important;
    }
}

table {
    background: white;
    margin-bottom: 1.25em;
    border: solid 1px #dddddd;
}

table thead, table tfoot {
    background: whitesmoke;
    font-weight: bold;
}

table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td {
    padding: 0.5em 0.625em 0.625em;
    font-size: inherit;
    color: #333333;
    text-align: left;
}

table tr th, table tr td {
    padding: 0.5625em 0.625em;
    font-size: inherit;
    color: #333333;
}

table tr.even, table tr.alt, table tr:nth-of-type(even) {
    background: #f9f9f9;
}

table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td {
    display: table-cell;
    line-height: 1.6;
}

.clearfix:before, .clearfix:after, .float-group:before, .float-group:after {
    content: " ";
    display: table;
}

.clearfix:after, .float-group:after {
    clear: both;
}

*:not(pre) > code {
    font-size: inherit;
    padding: 0;
    white-space: nowrap;
    background-color: inherit;
    border: 0 solid #dddddd;
    -webkit-border-radius: 4px;
    border-radius: 4px;
    text-shadow: none;
    line-height: 1;
}

pre, pre > code {
    line-height: 1.4;
    color: #191919;
    font-family: "Source Code Pro", "Droid Sans Mono", "DejaVu Sans Mono", "Monospace", monospace;
    font-weight: normal;
}

.keyseq {
    color: #666666;
}

kbd:not(.keyseq) {
    display: inline-block;
    color: #333333;
    font-size: 0.75em;
    line-height: 1.4;
    background-color: #f7f7f7;
    border: 1px solid #ccc;
    -webkit-border-radius: 3px;
    border-radius: 3px;
    -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset;
    box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset;
    margin: -0.15em 0.15em 0 0.15em;
    padding: 0.2em 0.6em 0.2em 0.5em;
    vertical-align: middle;
    white-space: nowrap;
}

.keyseq kbd:first-child {
    margin-left: 0;
}

.keyseq kbd:last-child {
    margin-right: 0;
}

.menuseq, .menu {
    color: #1a1a1a;
}

b.button:before, b.button:after {
    position: relative;
    top: -1px;
    font-weight: normal;
}

b.button:before {
    content: "[";
    padding: 0 3px 0 2px;
}

b.button:after {
    content: "]";
    padding: 0 2px 0 3px;
}

p a > code:hover {
    color: #561309;
}

#header, #content, #footnotes, #footer {
    width: 100%;
    margin-left: auto;
    margin-right: auto;
    margin-top: 0;
    margin-bottom: 0;
    max-width: 62.5em;
    *zoom: 1;
    position: relative;
    padding-left: 0.9375em;
    padding-right: 0.9375em;
}

#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after {
    content: " ";
    display: table;
}

#header:after, #content:after, #footnotes:after, #footer:after {
    clear: both;
}

#header {
    margin-bottom: 2.5em;
}

#header > h1 {
    color: black;
    font-weight: 300;
    border-bottom: 1px solid #d8d8d8;
    margin-bottom: -28px;
    padding-bottom: 32px;
}

#header span {
    color: #6e6e6e;
}

#header #revnumber {
    text-transform: capitalize;
}

#header br {
    display: none;
}

#header br + span {
    padding-left: 3px;
}

#header br + span:before {
    content: "\2013 \0020";
}

#header br + span.author {
    padding-left: 0;
}

#header br + span.author:before {
    content: ", ";
}

#toc {
    border-bottom: 3px double #e5e5e5;
    padding-bottom: 1.25em;
}

#toc > ul {
    margin-left: 0.25em;
}

#toc ul.sectlevel0 > li > a {
    font-style: italic;
}

#toc ul.sectlevel0 ul.sectlevel1 {
    margin-left: 0;
    margin-top: 0.5em;
    margin-bottom: 0.5em;
}

#toc ul {
    font-family: "Open Sans", "DejaVu Sans", "Sans", sans-serif;
    list-style-type: none;
}

#toc a {
    text-decoration: none;
}

#toc a:active {
    text-decoration: underline;
}

#toctitle {
    color: #7a2518;
}

@media only screen and (min-width: 768px) {
    body.toc2 {
        padding-left: 15em;
        padding-right: 0;
    }

    #toc.toc2 {
        position: fixed;
        width: 15em;
        left: 0;
        top: 0;
        border-right: 1px solid #e5e5e5;
        border-bottom: 0;
        z-index: 1000;
        padding: 1.25em 1em;
        height: 100%;
        overflow: auto;
    }

    #toc.toc2 #toctitle {
        margin-top: 0;
        font-size: 1.2em;
    }

    #toc.toc2 > ul {
        font-size: .90em;
        margin-bottom: 0;
    }

    #toc.toc2 ul ul {
        margin-left: 0;
        padding-left: 1em;
    }

    #toc.toc2 ul.sectlevel0 ul.sectlevel1 {
        padding-left: 0;
        margin-top: 0.5em;
        margin-bottom: 0.5em;
    }

    body.toc2.toc-right {
        padding-left: 0;
        padding-right: 15em;
    }

    body.toc2.toc-right #toc.toc2 {
        border-right: 0;
        border-left: 1px solid #e5e5e5;
        left: auto;
        right: 0;
    }
}

@media only screen and (min-width: 1280px) {
    body.toc2 {
        padding-left: 20em;
        padding-right: 0;
    }

    #toc.toc2 {
        width: 20em;
    }

    #toc.toc2 #toctitle {
        font-size: 1.375em;
    }

    #toc.toc2 > ul {
        font-size: 0.95em;
    }

    #toc.toc2 ul ul {
        padding-left: 1.25em;
    }

    body.toc2.toc-right {
        padding-left: 0;
        padding-right: 20em;
    }
}

#toc.toc2 {
    background-color: #fafaf9;
}

#content #toc {
    border-style: solid;
    border-width: 1px;
    border-color: #e3e3dd;
    margin-bottom: 1.25em;
    padding: 1.25em;
    background: #fafaf9;
    border-width: 0;
    -webkit-border-radius: 4px;
    border-radius: 4px;
}

#content #toc > :first-child {
    margin-top: 0;
}

#content #toc > :last-child {
    margin-bottom: 0;
}

#content #toc a {
    text-decoration: none;
}

#content #toctitle {
    font-weight: bold;
    font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;
    font-size: 1.375em;
    padding-left: 0.125em;
}

#footer {
    max-width: 100%;
    background-color: #333333;
    padding: 1.25em;
}

#footer-text {
    color: #cccccc;
    line-height: 1.44;
}

.sect1 {
    padding-bottom: 1.25em;
}

.sect1 + .sect1 {
    border-top: 3px double #e5e5e5;
}

#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor {
    position: absolute;
    width: 1em;
    margin-left: -1em;
    display: block;
    text-decoration: none;
    visibility: hidden;
    text-align: center;
    font-weight: normal;
}

#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before {
    content: '\00A7';
    font-size: .85em;
    vertical-align: text-top;
    display: block;
    margin-top: 0.05em;
}

#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover {
    visibility: visible;
}

#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link {
    color: #ba3925;
    text-decoration: none;
}

#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover {
    color: #a53221;
}

.imageblock, .literalblock, .listingblock, .mathblock, .verseblock, .videoblock {
    margin-bottom: 1.25em;
}

.admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .mathblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title {
    text-align: left;
    font-family: "Noto Serif", "DejaVu Serif", "Serif", serif;
    font-weight: normal;
    font-style: italic;
}

.tableblock > caption {
    text-align: left;
    font-family: "Noto Serif", "DejaVu Serif", "Serif", serif;
    font-weight: normal;
    font-style: italic;
    white-space: nowrap;
    overflow: visible;
    max-width: 0;
}

table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p {
    font-size: inherit;
}

.admonitionblock > table {
    border: 0;
    background: none;
    width: 100%;
}

.admonitionblock > table td.icon {
    text-align: center;
    width: 80px;
}

.admonitionblock > table td.icon img {
    max-width: none;
}

.admonitionblock > table td.icon .title {
    font-weight: 300;
    text-transform: uppercase;
}

.admonitionblock > table td.content {
    padding-left: 1.125em;
    padding-right: 1.25em;
    border-left: 1px solid #d8d8d8;
    color: #6e6e6e;
}

.admonitionblock > table td.content > :last-child > :last-child {
    margin-bottom: 0;
}

.exampleblock > .content {
    border-style: solid;
    border-width: 1px;
    border-color: #e6e6e6;
    margin-bottom: 1.25em;
    padding: 1.25em;
    background: white;
    -webkit-border-radius: 4px;
    border-radius: 4px;
}

.exampleblock > .content > :first-child {
    margin-top: 0;
}

.exampleblock > .content > :last-child {
    margin-bottom: 0;
}

.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6, .exampleblock > .content p {
    color: #333333;
}

.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6 {
    line-height: 1;
    margin-bottom: 0.625em;
}

.exampleblock > .content h1.subheader, .exampleblock > .content h2.subheader, .exampleblock > .content h3.subheader, .exampleblock > .content .subheader#toctitle, .sidebarblock.exampleblock > .content > .subheader.title, .exampleblock > .content h4.subheader, .exampleblock > .content h5.subheader, .exampleblock > .content h6.subheader {
    line-height: 1.4;
}

.exampleblock.result > .content {
    -webkit-box-shadow: 0 1px 8px #e3e3dd;
    box-shadow: 0 1px 8px #e3e3dd;
}

.sidebarblock {
    border-style: solid;
    border-width: 1px;
    border-color: #e3e3dd;
    margin-bottom: 1.25em;
    padding: 1.25em;
    background: #fafaf9;
    -webkit-border-radius: 4px;
    border-radius: 4px;
}

.sidebarblock > :first-child {
    margin-top: 0;
}

.sidebarblock > :last-child {
    margin-bottom: 0;
}

.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6, .sidebarblock p {
    color: #333333;
}

.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6 {
    line-height: 1;
    margin-bottom: 0.625em;
}

.sidebarblock h1.subheader, .sidebarblock h2.subheader, .sidebarblock h3.subheader, .sidebarblock .subheader#toctitle, .sidebarblock > .content > .subheader.title, .sidebarblock h4.subheader, .sidebarblock h5.subheader, .sidebarblock h6.subheader {
    line-height: 1.4;
}

.sidebarblock > .content > .title {
    color: #7a2518;
    margin-top: 0;
    line-height: 1.6;
}

.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child {
    margin-bottom: 0;
}

.literalblock pre:not([class]), .listingblock pre:not([class]) {
    background: none;
}

.literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] {
    border-width: 1px 0;
    border-style: dotted;
    border-color: #bfbfbf;
    -webkit-border-radius: 4px;
    border-radius: 4px;
    padding: 0.75em 0.5em;
    word-wrap: break-word;
}

.literalblock pre.nowrap, .literalblock pre[class].nowrap, .listingblock pre.nowrap, .listingblock pre[class].nowrap {
    overflow-x: auto;
    white-space: pre;
    word-wrap: normal;
}

.literalblock pre > code, .literalblock pre[class] > code, .listingblock pre > code, .listingblock pre[class] > code {
    display: block;
}

@media only screen {
    .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] {
        font-size: 0.8em;
    }
}

@media only screen and (min-width: 768px) {
    .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] {
        font-size: 0.9em;
    }
}

@media only screen and (min-width: 1280px) {
    .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] {
        font-size: 1em;
    }
}

.listingblock pre.highlight {
    padding: 0;
}

.listingblock pre.highlight > code {
    padding: 0.75em 0.5em;
}

.listingblock > .content {
    position: relative;
}

.listingblock:hover code[class*=" language-"]:before {
    text-transform: uppercase;
    font-size: 0.9em;
    color: #999;
    position: absolute;
    top: 0.375em;
    right: 0.375em;
}

.listingblock:hover code.asciidoc:before {
    content: "asciidoc";
}

.listingblock:hover code.clojure:before {
    content: "clojure";
}

.listingblock:hover code.css:before {
    content: "css";
}

.listingblock:hover code.go:before {
    content: "go";
}

.listingblock:hover code.groovy:before {
    content: "groovy";
}

.listingblock:hover code.html:before {
    content: "html";
}

.listingblock:hover code.java:before {
    content: "java";
}

.listingblock:hover code.javascript:before {
    content: "javascript";
}

.listingblock:hover code.python:before {
    content: "python";
}

.listingblock:hover code.ruby:before {
    content: "ruby";
}

.listingblock:hover code.sass:before {
    content: "sass";
}

.listingblock:hover code.scss:before {
    content: "scss";
}

.listingblock:hover code.xml:before {
    content: "xml";
}

.listingblock:hover code.yaml:before {
    content: "yaml";
}

.listingblock.terminal pre .command:before {
    content: attr(data-prompt);
    padding-right: 0.5em;
    color: #999;
}

.listingblock.terminal pre .command:not([data-prompt]):before {
    content: '$';
}

table.pyhltable {
    border: 0;
    margin-bottom: 0;
}

table.pyhltable td {
    vertical-align: top;
    padding-top: 0;
    padding-bottom: 0;
}

table.pyhltable td.code {
    padding-left: .75em;
    padding-right: 0;
}

.highlight.pygments .lineno, table.pyhltable td:not(.code) {
    color: #999;
    padding-left: 0;
    padding-right: .5em;
    border-right: 1px solid #d8d8d8;
}

.highlight.pygments .lineno {
    display: inline-block;
    margin-right: .25em;
}

table.pyhltable .linenodiv {
    background-color: transparent !important;
    padding-right: 0 !important;
}

.quoteblock {
    margin: 0 0 1.25em 0;
    padding: 0.5625em 1.25em 0 1.1875em;
    border-left: 3px solid #487c58;
}

.quoteblock blockquote {
    margin: 0 0 1.25em 0;
    padding: 0 0 0.625em 0;
    border: 0;
}

.quoteblock blockquote > .paragraph:last-child p {
    margin-bottom: 0;
}

.quoteblock .attribution {
    margin-top: -0.625em;
    padding-bottom: 0.625em;
    font-size: inherit;
    color: #454545;
    line-height: 1.6;
}

.quoteblock .attribution br {
    display: none;
}

.quoteblock .attribution cite {
    display: block;
    margin-bottom: 0.625em;
}

table thead th, table tfoot th {
    font-weight: bold;
}

table.tableblock.grid-all {
    border-collapse: separate;
    border-spacing: 1px;
    -webkit-border-radius: 4px;
    border-radius: 4px;
    border-top: 1px solid #dddddd;
    border-bottom: 1px solid #dddddd;
}

table.tableblock.frame-topbot, table.tableblock.frame-none {
    border-left: 0;
    border-right: 0;
}

table.tableblock.frame-sides, table.tableblock.frame-none {
    border-top: 0;
    border-bottom: 0;
}

table.tableblock td .paragraph:last-child p > p:last-child, table.tableblock th > p:last-child, table.tableblock td > p:last-child {
    margin-bottom: 0;
}

th.tableblock.halign-left, td.tableblock.halign-left {
    text-align: left;
}

th.tableblock.halign-right, td.tableblock.halign-right {
    text-align: right;
}

th.tableblock.halign-center, td.tableblock.halign-center {
    text-align: center;
}

th.tableblock.valign-top, td.tableblock.valign-top {
    vertical-align: top;
}

th.tableblock.valign-bottom, td.tableblock.valign-bottom {
    vertical-align: bottom;
}

th.tableblock.valign-middle, td.tableblock.valign-middle {
    vertical-align: middle;
}

tbody tr th {
    display: table-cell;
    line-height: 1.6;
    background: whitesmoke;
}

tbody tr th, tbody tr th p, tfoot tr th, tfoot tr th p {
    color: #333333;
    font-weight: bold;
}

td > div.verse {
    white-space: pre;
}

ol {
    margin-left: 1.75em;
}

ul li ol {
    margin-left: 1.5em;
}

dl dd {
    margin-left: 1.125em;
}

dl dd:last-child, dl dd:last-child > :last-child {
    margin-bottom: 0;
}

ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist {
    margin-bottom: 0.625em;
}

ul.unstyled, ol.unnumbered, ul.checklist, ul.none {
    list-style-type: none;
}

ul.unstyled, ol.unnumbered, ul.checklist {
    margin-left: 0.625em;
}

ul.checklist li > p:first-child > .fa-check-square-o:first-child, ul.checklist li > p:first-child > input[type="checkbox"]:first-child {
    margin-right: 0.25em;
}

ul.checklist li > p:first-child > input[type="checkbox"]:first-child {
    position: relative;
    top: 1px;
}

ul.inline {
    margin: 0 auto 0.625em auto;
    margin-left: -1.375em;
    margin-right: 0;
    padding: 0;
    list-style: none;
    overflow: hidden;
}

ul.inline > li {
    list-style: none;
    float: left;
    margin-left: 1.375em;
    display: block;
}

ul.inline > li > * {
    display: block;
}

.unstyled dl dt {
    font-weight: normal;
    font-style: normal;
}

ol.arabic {
    list-style-type: decimal;
}

ol.decimal {
    list-style-type: decimal-leading-zero;
}

ol.loweralpha {
    list-style-type: lower-alpha;
}

ol.upperalpha {
    list-style-type: upper-alpha;
}

ol.lowerroman {
    list-style-type: lower-roman;
}

ol.upperroman {
    list-style-type: upper-roman;
}

ol.lowergreek {
    list-style-type: lower-greek;
}

.hdlist > table, .colist > table {
    border: 0;
    background: none;
}

.hdlist > table > tbody > tr, .colist > table > tbody > tr {
    background: none;
}

td.hdlist1 {
    padding-right: .75em;
    font-weight: bold;
}

td.hdlist1, td.hdlist2 {
    vertical-align: top;
}

.literalblock + .colist, .listingblock + .colist {
    margin-top: -0.5em;
}

.colist > table tr > td:first-of-type {
    padding: 0 .75em;
    line-height: 1;
}

.colist > table tr > td:last-of-type {
    padding: 0.25em 0;
}

.qanda > ol > li > p > em:only-child {
    color: #1d4b8f;
}

.thumb, .th {
    line-height: 0;
    display: inline-block;
    border: solid 4px white;
    -webkit-box-shadow: 0 0 0 1px #dddddd;
    box-shadow: 0 0 0 1px #dddddd;
}

.imageblock.left, .imageblock[style*="float: left"] {
    margin: 0.25em 0.625em 1.25em 0;
}

.imageblock.right, .imageblock[style*="float: right"] {
    margin: 0.25em 0 1.25em 0.625em;
}

.imageblock > .title {
    margin-bottom: 0;
}

.imageblock.thumb, .imageblock.th {
    border-width: 6px;
}

.imageblock.thumb > .title, .imageblock.th > .title {
    padding: 0 0.125em;
}

.image.left, .image.right {
    margin-top: 0.25em;
    margin-bottom: 0.25em;
    display: inline-block;
    line-height: 0;
}

.image.left {
    margin-right: 0.625em;
}

.image.right {
    margin-left: 0.625em;
}

a.image {
    text-decoration: none;
}

span.footnote, span.footnoteref {
    vertical-align: super;
    font-size: 0.875em;
}

span.footnote a, span.footnoteref a {
    text-decoration: none;
}

span.footnote a:active, span.footnoteref a:active {
    text-decoration: underline;
}

#footnotes {
    padding-top: 0.75em;
    padding-bottom: 0.75em;
    margin-bottom: 0.625em;
}

#footnotes hr {
    width: 20%;
    min-width: 6.25em;
    margin: -.25em 0 .75em 0;
    border-width: 1px 0 0 0;
}

#footnotes .footnote {
    padding: 0 0.375em;
    line-height: 1.3;
    font-size: 0.875em;
    margin-left: 1.2em;
    text-indent: -1.2em;
    margin-bottom: .2em;
}

#footnotes .footnote a:first-of-type {
    font-weight: bold;
    text-decoration: none;
}

#footnotes .footnote:last-of-type {
    margin-bottom: 0;
}

#content #footnotes {
    margin-top: -0.625em;
    margin-bottom: 0;
    padding: 0.75em 0;
}

.gist .file-data > table {
    border: none;
    background: #fff;
    width: 100%;
    margin-bottom: 0;
}

.gist .file-data > table td.line-data {
    width: 99%;
}

div.unbreakable {
    page-break-inside: avoid;
}

.big {
    font-size: larger;
}

.small {
    font-size: smaller;
}

.underline {
    text-decoration: underline;
}

.overline {
    text-decoration: overline;
}

.line-through {
    text-decoration: line-through;
}

.aqua {
    color: #00bfbf;
}

.aqua-background {
    background-color: #00fafa;
}

.black {
    color: black;
}

.black-background {
    background-color: black;
}

.blue {
    color: #0000bf;
}

.blue-background {
    background-color: #0000fa;
}

.fuchsia {
    color: #bf00bf;
}

.fuchsia-background {
    background-color: #fa00fa;
}

.gray {
    color: #606060;
}

.gray-background {
    background-color: #7d7d7d;
}

.green {
    color: #006000;
}

.green-background {
    background-color: #007d00;
}

.lime {
    color: #00bf00;
}

.lime-background {
    background-color: #00fa00;
}

.maroon {
    color: #600000;
}

.maroon-background {
    background-color: #7d0000;
}

.navy {
    color: #000060;
}

.navy-background {
    background-color: #00007d;
}

.olive {
    color: #606000;
}

.olive-background {
    background-color: #7d7d00;
}

.purple {
    color: #600060;
}

.purple-background {
    background-color: #7d007d;
}

.red {
    color: #bf0000;
}

.red-background {
    background-color: #fa0000;
}

.silver {
    color: #909090;
}

.silver-background {
    background-color: #bcbcbc;
}

.teal {
    color: #006060;
}

.teal-background {
    background-color: #007d7d;
}

.white {
    color: #bfbfbf;
}

.white-background {
    background-color: #fafafa;
}

.yellow {
    color: #bfbf00;
}

.yellow-background {
    background-color: #fafa00;
}

span.icon > .fa {
    cursor: default;
}

.admonitionblock td.icon [class^="fa icon-"] {
    font-size: 2.5em;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
    cursor: default;
}

.admonitionblock td.icon .icon-note:before {
    content: "\f05a";
    color: #4298b8;
}

.admonitionblock td.icon .icon-tip:before {
    content: "\f0eb";
    text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8);
    color: #ffe400;
}

.admonitionblock td.icon .icon-warning:before {
    content: "\f071";
    color: #ff8c00;
}

.admonitionblock td.icon .icon-caution:before {
    content: "\f06d";
    color: #db4800;
}

.admonitionblock td.icon .icon-important:before {
    content: "\f06a";
    color: #db4800;
}

/*
.conum[data-value] {
    display: inline-block;
    color: white !important;
    background-color: #333333;
    -webkit-border-radius: 100px;
    border-radius: 100px;
    text-align: center;
    width: 20px;
    height: 20px;
    font-size: 12px;
    line-height: 20px;
    font-family: "Open Sans", "Sans", sans-serif;
    font-style: normal;
    font-weight: bold;
    text-indent: -1px;
}

.conum[data-value] * {
    color: white !important;
}

.conum[data-value] + b {
    display: none;
}

.conum[data-value]:after {
    content: attr(data-value);
}

pre .conum[data-value] {
    position: relative;
    top: -2px;
}

b.conum * {
    color: inherit !important;
}

.conum:not([data-value]):empty {
    display: none;
}
*/

.conum {
    display: inline-block;
    color: white !important;
    background-color: #222222;
    -webkit-border-radius: 100px;
    border-radius: 100px;
    text-align: center;
    width: 20px;
    height: 20px;
    font-size: 12px;
    font-weight: bold;
    line-height: 20px;
    font-family: "Open Sans", "Sans", sans-serif;
    font-style: normal;
    font-weight: bold;
    position: relative;
    top: -2px;
    letter-spacing: -1px;
}

.conum * {
    color: white !important;
}

.conum + b {
    display: none;
}

.conum:after {
    content: attr(data-value);
}

.conum:not([data-value]):empty {
    display: none;
}

#toc.toc2 {
    background: #ededed;
}

.literalblock > .content > pre, .listingblock > .content > pre {
    -webkit-border-radius: 0;
    border-radius: 0;
}

.pattern
{
	font-variant:small-caps;
}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.min.css">
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{font-weight: normal}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#00}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_an_architecture_blueprint_for_a_central_logging_system">1. An Architecture Blueprint for a Central Logging System</a>
<ul class="sectlevel2">
<li><a href="#_introduction">1.1. Introduction</a></li>
<li><a href="#_goals">1.2. Goals</a></li>
<li><a href="#_architecture">1.3. Architecture</a>
<ul class="sectlevel3">
<li><a href="#_messaging_brick">1.3.1. Messaging Brick</a></li>
<li><a href="#_online_research_store">1.3.2. Online Research Store</a></li>
<li><a href="#_compliance_store">1.3.3. Compliance Store</a></li>
<li><a href="#_the_client_side">1.3.4. The Client Side</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_central_logging_datamodel">2. Central Logging Datamodel</a>
<ul class="sectlevel2">
<li><a href="#_partitioning_of_the_log_record_space">2.1. Partitioning of the log record space</a></li>
<li><a href="#_fields">2.2. Fields</a></li>
</ul>
</li>
<li><a href="#_about_clj">3. About CLJ</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_an_architecture_blueprint_for_a_central_logging_system"><a class="anchor" href="#_an_architecture_blueprint_for_a_central_logging_system"></a>1. An Architecture Blueprint for a Central Logging System</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_introduction"><a class="anchor" href="#_introduction"></a>1.1. Introduction</h3>
<div class="paragraph">
<p>Logging is mostly treated as a local affair: Of an application or solution, a team, or even a single developer, maybe
a group thereof. But the increasing complexity of software systems increases the effort to draw the
right conclusions from a large heap of heterogeneous logging records.</p>
</div>
<div class="paragraph">
<p>The trend from large monolithic application building blocks to smaller&#8201;&#8212;&#8201;but therefore intensely interconnected&#8201;&#8212;&#8201;software components is present. Therefore s IT Solutions AT (IT subsidiary of Erste Bank and Sparkassen in Austria,
<a href="https://www.s-itsolutions.at/" class="bare">www.s-itsolutions.at/</a>) started a project to care for a central logging and journalling data lake.<br>
The architectural pattern here is a description along the line of this "Central Logging &amp; Journalling"
solution/application of sIT. It is targeted not at smaller systems but tries to deal with enterprises and larger IT
landscapes.</p>
</div>
<div class="paragraph">
<p>So, if you feel your path to wisdom by reading logs looks like this, you&#8217;re a happy developer already.<br>
<span class="image thumb"><img src="images/forest_log.jpg" alt="forest"></span></p>
</div>
<div class="paragraph">
<p>But if it looks a bit more like this, further reading could maybe help you.<br>
<span class="image thumb"><img src="images/jungle_log.JPG" alt="jungle"></span></p>
</div>
</div>
<div class="sect2">
<h3 id="_goals"><a class="anchor" href="#_goals"></a>1.2. Goals</h3>
<div class="paragraph">
<p>Logging is not an end in itself&#8201;&#8212;&#8201;it enables many use-cases that can be grouped into four partitions:</p>
</div>
<div class="paragraph">
<p>[A]. <strong>Support:</strong> Find out about what the system did in its runtime, in order to detect the source of problems or give
information to other stakeholders. Mostly use-cases here investigate in exceptional program behaviour.</p>
</div>
<div class="paragraph">
<p>[B]. <strong>Compliance:</strong> The number of regulatory use-cases increases; the run-time behaviour and intermediate data of
software must be documented, often for many years.</p>
</div>
<div class="paragraph">
<p>[C]. <strong>Monitoring &amp; Alerting:</strong> When a stream of logging data exists, it is self-evident to use this stream also to find
out about the system state as well as problems and report those via multiple channels.</p>
</div>
<div class="paragraph">
<p>[D]. <strong>Analytics &amp; Intelligence:</strong> Sophisticated tools allow data mining, BI etc. to find out ways to improve the
business, may it be by exploring customer behaviour, may it by predicting operations problems, or may it be something
we don&#8217;t even dream of yet.</p>
</div>
<table class="tableblock frame-all grid-cols spread">
<caption class="title">Table 1. Use-case groups</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Support [A]</th>
<th class="tableblock halign-left valign-top">Compliance [B]</th>
<th class="tableblock halign-left valign-top">Monitoring &amp; Alerting [C]</th>
<th class="tableblock halign-left valign-top">Analytics &amp; Intelligence [D]</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">* Customer Care<br>
    * Issue research<br>
    &#8594; Access Security<br>
    &#8594; Searchable, neartime</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* Regulatory queries
     &#8594; Long term<br>
     &#8594; Safe data store<br>
     &#8594; Ideally certified<br>
     &#8594; Unfrequent queries</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* Stream analysis<br>
    * Alerting endpoints<br>
    &#8594; Needs rules<br>
    &#8594; High performing</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* Statistics<br>
    * Big Data Analysis<br>
    * Machine Learning<br>
    * Predictive Analysis<br>
    &#8594; Highly specialized toolset</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_architecture"><a class="anchor" href="#_architecture"></a>1.3. Architecture</h3>
<div class="paragraph">
<p>A possible architecture could make use of the following building blocks:</p>
</div>
<div id="clj-architecture" class="imageblock">
<div class="content">
<img src="images/logical_arch.png" alt="logical arch">
</div>
<div class="title">Figure 1. Logical architecture of CLJ</div>
</div>
<div class="paragraph">
<p>The functional as well as the non-functional, or quality, requirements of the use-case groups aforementioned are
very different from each other. Therefore it makes sense to use different software products to fulfill those
requirements.</p>
</div>
<div class="sect3">
<h4 id="_messaging_brick"><a class="anchor" href="#_messaging_brick"></a>1.3.1. Messaging Brick</h4>
<div class="paragraph">
<p>This building block cares for a reliable (real 24/7) component where the applications can load their logging records
up to. It is high-performant, lean, stable and therefore capable to also swallow extreme high-load peaks.</p>
</div>
<div class="paragraph">
<p>This building block also cares for the use-case group [C]. The type of product is queue-like, our implementation uses
Apache Kafka (<a href="https://kafka.apache.org/" class="bare">kafka.apache.org/</a>). Another example would be to use Amazon&#8217;s Firehose/Kinesis in an AWS-based
environment.</p>
</div>
</div>
<div class="sect3">
<h4 id="_online_research_store"><a class="anchor" href="#_online_research_store"></a>1.3.2. Online Research Store</h4>
<div class="paragraph">
<p>This record store is responsible for the structured and fast search for log records and to find out about connections
between those.</p>
</div>
<div class="paragraph">
<p>Our implementation uses ElasticSearch (<a href="https://www.elastic.co/de/" class="bare">www.elastic.co/de/</a>) together with a self-written ReST service and an
Angular-base front-end</p>
</div>
</div>
<div class="sect3">
<h4 id="_compliance_store"><a class="anchor" href="#_compliance_store"></a>1.3.3. Compliance Store</h4>
<div class="paragraph">
<p>Selected log records (defined by the solution) are persisted in this record store. It is very reliable, needs a
back-up, is fast with writing and stores the record before any tampering with it. On the other hand it does not need
a super-sophisticated query facility.</p>
</div>
<div class="paragraph">
<p>In our implementation we decided for Apache Cassandra (<a href="http://cassandra.apache.org/" class="bare">cassandra.apache.org/</a>). Other possibilities would be
to store those selected records in flat files and archive them, or use a RDBMS.</p>
</div>
</div>
<div class="sect3">
<h4 id="_the_client_side"><a class="anchor" href="#_the_client_side"></a>1.3.4. The Client Side</h4>
<div class="paragraph">
<p>The applications for logging can send their log records either directly into the messaging brick or by harvesting
them from the filesystem or another data store. Both methods have pro&#8217;s and con&#8217;s.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 2. Harvesting methods.</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direct transfer</th>
<th class="tableblock halign-left valign-top">Logfile harvesting</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">+ Fastest<br>
  + Possibly eliminates one component (file system)<br>
  - Technically a tight coupling</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+ Non-intrusive to existing applications<br>
  - Needs another process (ressources + monitoring)</p></td>
</tr>
</tbody>
</table>
<div class="sect4">
<h5 id="_direct_transfer"><a class="anchor" href="#_direct_transfer"></a>Direct transfer</h5>
<div class="paragraph">
<p>Possibilities for applications to integrate are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Own client libs of messaging brick</p>
</li>
<li>
<p>APIs for creating messages that fit to the data model of CLJ</p>
</li>
<li>
<p>Appenders for existing logging frameworks (e.g. log4j2 in Java, or log.net for C#)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Generally it is a good idea to offer integration libraries that care for the situations where the messaging brick
suffers from a failure. In those cases the using application should not be brought down by logging, to mitigate
the tight coupling issue.</p>
</div>
</div>
<div class="sect4">
<h5 id="_logfile_harvesting"><a class="anchor" href="#_logfile_harvesting"></a>Logfile harvesting</h5>
<div class="paragraph">
<p>There are a lot of tools for that use-case, ranging from light-weight native apps that are integrated into the
operating system up to full-scale ETL tools (<a href="https://en.wikipedia.org/wiki/Extract,_transform,_load" class="bare">en.wikipedia.org/wiki/Extract,_transform,_load</a>).</p>
</div>
<div class="paragraph">
<p>A few examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>rsyslog</strong> (<a href="http://www.rsyslog.com/" class="bare">www.rsyslog.com/</a>)</p>
</li>
<li>
<p><strong>fluentd</strong> (<a href="https://www.fluentd.org/" class="bare">www.fluentd.org/</a>)</p>
</li>
<li>
<p>Apache <strong>flume</strong> (<a href="https://flume.apache.org/" class="bare">flume.apache.org/</a>)</p>
</li>
<li>
<p>logstash (<a href="https://www.elastic.co/products/logstash" class="bare">www.elastic.co/products/logstash</a>, the 'L' from the famous ELK stack)</p>
</li>
<li>
<p>ElasticSearch' <strong>beat</strong>-family as feeder for the heavy-weight logstash (<a href="https://www.elastic.co/products/beats" class="bare">www.elastic.co/products/beats</a>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In certain architectures, some of these products could server as the messaging brick itself.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_central_logging_datamodel"><a class="anchor" href="#_central_logging_datamodel"></a>2. Central Logging Datamodel</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_partitioning_of_the_log_record_space"><a class="anchor" href="#_partitioning_of_the_log_record_space"></a>2.1. Partitioning of the log record space</h3>
<div class="paragraph">
<p>Each record has its own id value, making it unique in all of the data stores.</p>
</div>
<div class="paragraph">
<p>For managing the stores (especially the online research store for [A]), though, it is necessary to organize the records in
a number of dimensions. This separation then supports in the determination of</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Access rights/permissions</p>
</li>
<li>
<p>Retention times</p>
</li>
<li>
<p>Backup strategy</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>With that, the integrated applications can gain a lot of control and flexibility for <strong>their</strong> data.</p>
</div>
<div class="paragraph">
<p>The dimensions that are suggested is a combination, fitting to the actual need, of those fields:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>tenant (in case of a real multi-tenant system with separated accounts)</p>
</li>
<li>
<p>environment (if environments are not separated pyhsically or logically on the server side)</p>
</li>
<li>
<p>solution, this determines the organizational owner of the log records within a tenant</p>
</li>
<li>
<p>recordType, to distinguish between different needs of building blocks and types of logging and journal data.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_fields"><a class="anchor" href="#_fields"></a>2.2. Fields</h3>
<div class="paragraph">
<p>This list of fields is a gross list of common values a log system could care for. Different
applications in different contexts might use one or another subset of this enumeration, hardly setting them all. But,
and that is the main reason for this list, values of similar semantics in a log record store should be named equally, to
make traversing logs of different applications easier.<br>
Mandatory fields are printed <strong class="teal">bold</strong>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 3. NDM fields</caption>
<colgroup>
<col style="width: 2%;">
<col style="width: 4%;">
<col style="width: 31%;">
<col style="width: 62%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Field Name</th>
<th class="tableblock halign-left valign-top">Short Description</th>
<th class="tableblock halign-left valign-top">Long Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Technical id for the log record</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This can be set by the client (if trusted to care for uniqueness) or be omitted and set by the client. The server
allow the id to be reused (=update) for semantics like records of timespans (like, e.g., sessions).
Proposed algorithm is UUID.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock"><strong>Header Fields, meta data of each record</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong class="teal">recordType</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type of the record.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This is an unbounded enumeration, it&#8217;s free to select from the solution; anyway, it is recommended to use a known value
(see subpage) to make recognition of the semantics of the record easier. Record types can be shared between solutions,
e.g. session, activity and techInfo are record types that are used by applications.
The record type is used for partitioning the CLJ data stores for the permission system, as well as a key in defining
retention periods and archiving strategy.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">recordSubType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Additional field to identify the event</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Can be used as a type of the source log record. For example, if the recordType is 'serverLog', the
recordSubType could be "tomcat" oder "weblogic".</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong class="teal">tenant</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Institute number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If needed, for organizations serving multiple iurisdictional tenant, this is the tenant code.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong class="teal">environment</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Environment identifier</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If needed, when the development, test, staging, production etc. environments are not separted by dedicated data
store instances but merged in one, this identifier determines from which environment a log record originates.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DateTime-WithFractionSeconds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">recordTimestamp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When the log record has been created</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If the client does not provide this, or the given value cannot be parsed on server side, the processing engine will
create a timestamp as next best guess.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Long</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sequence</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Determines order</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Often the record timestamp is not sufficient to discriminate and order a set of
logrecords. E.g. ElasticSearch does not care for finer granularity than miliseconds. In this case the sequence field
could store micros or nanos.
Another possibility to use this field is that a client can care for a gapless sequence to be sure that no records are
lost during transmission, procession and retrieval. A logging front-end can use this field as sole default order
attribute or as secondary order attribute after recordTimestamp.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logLevel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Level of importance, as provided by many low-level logging systems</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This field is optional, it is also not normalized, meaning that whatever the client solution provides here will be
taken as-is. A lot of logging libraries have their own mind on this topic.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock"><strong>User Info, information about the person or technical systems connected to the log record</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique user id in its userType domain</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This identifies the user or system uniquely within the domain given in "userType". This value gets more gain in the
context of current data protection laws.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">userType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Domain this user account belongs to</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Needed if different user domains should be distinguished&#8201;&#8212;&#8201;like internet users (customers) and intranet users
(employees). Or when user domains ob subsidiaries are not clearly separated by the user ids.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock"><strong>Source Info, which component wrote this log record</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong class="teal">solutionCode</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique identifier of a solution</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identifies the Solution as unit in the IT landscape.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">solutionFunctionCode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Id of functional building block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If needed, more fine-grained organizational partitioning.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sourceApplication</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Building block</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">More technical/architectural paritioning key.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sourceHostname</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System name of the server initiating the logging call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. DNS of physical or virtual system</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sourceIp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Client IP, originator of the log</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The value might differ in regard of the nature of the originator
(e.g. a browser-based application, or a batch)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">userAgent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Software that initiated the call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This field is used when the software and its version of the user/client is relevant. e.g. In web front-ends
this identifies the Browser that has been used. The writing solution can give any information if it thinks that
information about its caller makes a difference.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">agentVersion</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TODO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">deprecated, might be removed in the future.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">serverInstanceName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identifies the server instance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. the docker pod</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock"><strong>Initiating solution</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">clientId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Code from initiating system</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inititiating systems are mostly user front-ends or batch
processes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock"><strong>Harvesting Info, where was the log record first persistet, might be different from the source solution</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sourceType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Syntax of the incoming data</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Syntax of the incoming data (into the messaging brick). 'generic' means using this data model in JSON, this is the
default value. If the syntax is not 'generic' the central logging service might be able to to a proper transformation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">loggingHostname</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Server Host Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">like sourceHostname</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">loggingHostIp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Server IP address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The system that provided the logging information, e.g. Apache host for access logs, or any other harvisting service
running logstash, fume, rsyslog or a similar tool.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logFile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">file name and path from which the log record has been harvested, if applicable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If logrecords are not sent directly to the messaging building block, but harvested from a logfile
(by Logstash or a similar software) here this filename and path of the appropriate format (Windows, Unix,
Mainframe, ) can be sent if needed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock"><strong>Context</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">parentId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hierarchical predecessor of this log record.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Could be of a functional or sequential order	Here a key of a hierarchical higher-level record can be set.
So a tree-like structure of log records can be created.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">contextId1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mapping context id field 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Example: The id of a user session.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">contextId2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mapping context id field 2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Example: The (use case) id of a user&#8217;s activity.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">contextId3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mapping context id field 3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Example: The id of a explicit technical log record.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">contextId4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mapping context id field 4</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DateTime-WithFractionSeconds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">startDate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Start date of the record</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For journalling records that have a time span, this field of the event signals the begin timestamp.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DateTime-WithFractionSeconds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">endDate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">End date of the session</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For journalling records that have a time span, this field of the event signals the end timestamp.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">correlationId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Correlation ID for a synchronous or quasi-synchronous call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique Id that is created as early as possible (ideally by the initiator) and then guided through the whole call
hierarchy to create traces of calls.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock"><strong>Unstructured and semistructured data</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Log Message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All the information that is not part of other fields</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">additionalInfo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">semi-structured data</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Business or other data.
Technically this is a text field. It is recommended, though, to use JSON syntax, because the front-end can interpret
it and display a tree structure. Special Case of additionalInfo: External Links. This can be rendered in the UI as
Link with following Syntax: additionalInfo.extlink.ref : The URI for the external Link;
additionalInfo.extlink.name : The DisplayName for the Link.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock"><strong>Result section</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">resultCode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Code if the record represents a task of any kind</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP record code, Exception, Error</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">errorMessage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error Message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Any standardized code or message the sending solutions wants to log.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">businessError</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Business Error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sometimes business errors are stored as normal messages. It is up to the application to decide which message is a
business error or a message. This value should be true for business errors</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Status</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">normalizedStatus</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Status field red/yellow/green</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This field is for the user, giving a hint about whether this log record represents ok status, a warning or an error.
enum Status { red yellow green }</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"><p class="tableblock"><strong>Technical information</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">thread</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the server thread</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logger</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Software origin</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the class and method(optional) which logs this message</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Long</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">durationMs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Duration of a call in milliseconds</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logProcessingError</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">StackTrace of the log processing error.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This is not provided by the client solution but used if anything goes wrong in CLJ log record processing.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_about_clj"><a class="anchor" href="#_about_clj"></a>3. About CLJ</h2>
<div class="sectionbody">
<div class="paragraph lead">
<p>CLJ is a proposal to harmonize logging in an environment where multiple software building blocks are working together
in order to fulfill shared requirements.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><a href="https://mcaviti.github.io/clj-datamodel/">CLJ</a> is a design blue-print, a proposal how to align a share logging
environment.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Which building blocks to position in order to have smooth operations</p>
</li>
<li>
<p>Which fields to care for, having a common naming convention</p>
</li>
<li>
<p>Think about the use-cases that support the organization</p>
</li>
<li>
<p>Grounded in a running system of a not-so-small bank subsidiary</p>
</li>
<li>
<p>Feedback and contribution highly appreciated.</p>
</li>
<li>
<p><span class="icon"><i class="fa fa-github"></i></span> Source: CLJ&#8217;s asciidoc sources are hosted at <a href="https://github.com/McAviti/clj-datamodel">CLJ sources</a>.</p>
</li>
<li>
<p><span class="icon"><i class="fa fa-twitter"></i></span> Twitter: <a href="https://twitter.com/mcaviti">@mcaviti</a></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Authored by the CLJ team in <a href="https://www.s-itsolutions.at" class="bare">www.s-itsolutions.at</a> [s IT Solutions AT], lead by Klemens Dickbauer.</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2018-03-14 01:42:56 +01:00
</div>
</div>
</body>
</html>